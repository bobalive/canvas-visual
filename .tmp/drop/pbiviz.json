{"visual":{"name":"canvasVisual","displayName":"canvasVisual","guid":"canvasVisualBD042C189A134E6F914EF8053B29C0F9","visualClassName":"Visual","version":"1.0.0.0","description":"none","supportUrl":"none","gitHubUrl":"none"},"author":{"name":"none","email":"none"},"apiVersion":"5.3.0","style":"style/visual.less","stringResources":{},"capabilities":{"dataRoles":[{"displayName":"Category Data","name":"category","kind":"Grouping"},{"displayName":"Measure Data","name":"measure","kind":"Measure"}],"objects":{"dataPoint":{"properties":{"defaultColor":{"type":{"fill":{"solid":{"color":true}}}},"showAllDataPoints":{"type":{"bool":true}},"fill":{"type":{"fill":{"solid":{"color":true}}}},"fillRule":{"type":{"fill":{}}},"fontSize":{"type":{"formatting":{"fontSize":true}}}}}},"dataViewMappings":[{"categorical":{"categories":{"for":{"in":"category"},"dataReductionAlgorithm":{"top":{}}},"values":{"select":[{"bind":{"to":"measure"}}]}}}],"privileges":[]},"content":{"js":"var canvasVisualBD042C189A134E6F914EF8053B29C0F9;(()=>{\"use strict\";var t={29:(t,n,e)=>{e.d(n,{M4:()=>v,O1:()=>g,tB:()=>p});var r,i,a=0,o=0,s=0,l=0,u=0,c=0,h=\"object\"==typeof performance&&performance.now?performance:Date,f=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return u||(f(d),u=h.now()+c)}function d(){u=0}function v(){this._call=this._time=this._next=null}function g(t,n,e){var r=new v;return r.restart(t,n,e),r}function y(){u=(l=h.now())+c,a=o=0;try{!function(){p(),++a;for(var t,n=r;n;)(t=u-n._time)>=0&&n._call.call(void 0,t),n=n._next;--a}()}finally{a=0,function(){for(var t,n,e=r,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:r=n);i=t,A(a)}(),u=0}}function m(){var t=h.now(),n=t-l;n>1e3&&(c-=n,l=t)}function A(t){a||(o&&(o=clearTimeout(o)),t-u>24?(t<1/0&&(o=setTimeout(y,t-h.now()-c)),s&&(s=clearInterval(s))):(s||(l=h.now(),s=setInterval(m,1e3)),a=1,f(y)))}v.prototype=g.prototype={constructor:v,restart:function(t,n,e){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");e=(null==e?p():+e)+(null==n?0:+n),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=e,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}}},123:(t,n,e)=>{e.d(n,{A:()=>o,J:()=>s});var r=e(3363);function i(t,n){var e,i;return function(){var a=(0,r.hZ)(this,t),o=a.tween;if(o!==e)for(var s=0,l=(i=e=o).length;s<l;++s)if(i[s].name===n){(i=i.slice()).splice(s,1);break}a.tween=i}}function a(t,n,e){var i,a;if(\"function\"!=typeof e)throw new Error;return function(){var o=(0,r.hZ)(this,t),s=o.tween;if(s!==i){a=(i=s).slice();for(var l={name:n,value:e},u=0,c=a.length;u<c;++u)if(a[u].name===n){a[u]=l;break}u===c&&a.push(l)}o.tween=a}}function o(t,n){var e=this._id;if(t+=\"\",arguments.length<2){for(var o,s=(0,r.Jt)(this.node(),e).tween,l=0,u=s.length;l<u;++l)if((o=s[l]).name===t)return o.value;return null}return this.each((null==n?i:a)(e,t,n))}function s(t,n,e){var i=t._id;return t.each(function(){var t=(0,r.hZ)(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return(0,r.Jt)(t,i).value[n]}}},137:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(123);function i(t){return this.tween(\"text\",\"function\"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?\"\":n}}((0,r.J)(this,\"text\",t)):function(t){return function(){this.textContent=t}}(null==t?\"\":t+\"\"))}},165:(t,n,e)=>{function r(){let t=0;for(const n of this)++t;return t}e.d(n,{A:()=>r})},183:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(1882);function i(t){return\"string\"==typeof t?new r.LN([[document.querySelector(t)]],[document.documentElement]):new r.LN([[t]],r.zr)}},202:(t,n,e)=>{e.d(n,{A:()=>s});var r=e(6747);function i(t,n,e){var i=(0,r.A)(t),a=i.CustomEvent;\"function\"==typeof a?a=new a(n,e):(a=i.document.createEvent(\"Event\"),e?(a.initEvent(n,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(n,!1,!1)),t.dispatchEvent(a)}function a(t,n){return function(){return i(this,t,n)}}function o(t,n){return function(){return i(this,t,n.apply(this,arguments))}}function s(t,n){return this.each((\"function\"==typeof n?o:a)(t,n))}},461:(t,n,e)=>{function r(t){return function(){delete this[t]}}function i(t,n){return function(){this[t]=n}}function a(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function o(t,n){return arguments.length>1?this.each((null==n?r:\"function\"==typeof n?a:i)(t,n)):this.node()[t]}e.d(n,{A:()=>o})},574:(t,n,e)=>{function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}e.d(n,{A:()=>i})},697:(t,n,e)=>{function r(){this.innerHTML=\"\"}function i(t){return function(){this.innerHTML=t}}function a(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?\"\":n}}function o(t){return arguments.length?this.each(null==t?r:(\"function\"==typeof t?a:i)(t)):this.node().innerHTML}e.d(n,{A:()=>o})},747:(t,n,e)=>{function r(){return[]}function i(t){return null==t?r:function(){return this.querySelectorAll(t)}}e.d(n,{A:()=>i})},756:(t,n,e)=>{e.d(n,{JLW:()=>a.JL,Ltv:()=>i.Lt,T9B:()=>r.T9,rLf:()=>a.rL});var r=e(1388),i=(e(3537),e(7875)),a=e(6588);e(9902),e(6470)},807:(t,n,e)=>{function r(){return!this.node()}e.d(n,{A:()=>r})},846:(t,n,e)=>{function r(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}e.d(n,{A:()=>r})},871:(t,n,e)=>{function r(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function i(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}e.d(n,{A:()=>r,X:()=>i})},1089:(t,n,e)=>{e.d(n,{A:()=>l});var r={value:()=>{}};function i(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+\"\")||t in r||/[\\s.]/.test(t))throw new Error(\"illegal type: \"+t);r[t]=[]}return new a(r)}function a(t){this._=t}function o(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function s(t,n,e){for(var i=0,a=t.length;i<a;++i)if(t[i].name===n){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}a.prototype=i.prototype={constructor:a,on:function(t,n){var e,r,i=this._,a=(r=i,(t+\"\").trim().split(/^|\\s+/).map(function(t){var n=\"\",e=t.indexOf(\".\");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:n}})),l=-1,u=a.length;if(!(arguments.length<2)){if(null!=n&&\"function\"!=typeof n)throw new Error(\"invalid callback: \"+n);for(;++l<u;)if(e=(t=a[l]).type)i[e]=s(i[e],t.name,n);else if(null==n)for(e in i)i[e]=s(i[e],t.name,null);return this}for(;++l<u;)if((e=(t=a[l]).type)&&(e=o(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new a(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};const l=i},1197:(t,n,e)=>{e.d(n,{Ay:()=>s});var r=e(6957),i=e(6160),a=e(9804),o=e(4709);const s=function t(n){var e=(0,o.uN)(n);function i(t,n){var i=e((t=(0,r.Qh)(t)).r,(n=(0,r.Qh)(n)).r),a=e(t.g,n.g),s=e(t.b,n.b),l=(0,o.Ay)(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=a(n),t.b=s(n),t.opacity=l(n),t+\"\"}}return i.gamma=t,i}(1);function l(t){return function(n){var e,i,a=n.length,o=new Array(a),s=new Array(a),l=new Array(a);for(e=0;e<a;++e)i=(0,r.Qh)(n[e]),o[e]=i.r||0,s[e]=i.g||0,l[e]=i.b||0;return o=t(o),s=t(s),l=t(l),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=l(t),i+\"\"}}}l(i.A),l(a.A)},1226:(t,n,e)=>{e.d(n,{P:()=>a,i:()=>o});var r,i=e(1852);function a(t){const n=new(\"function\"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+\"\");return n.isIdentity?i.D:(0,i.A)(n.a,n.b,n.c,n.d,n.e,n.f)}function o(t){return null==t?i.D:(r||(r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),r.setAttribute(\"transform\",t),(t=r.transform.baseVal.consolidate())?(t=t.matrix,(0,i.A)(t.a,t.b,t.c,t.d,t.e,t.f)):i.D)}},1322:(t,n,e)=>{function*r(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}e.d(n,{A:()=>r})},1375:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(3363);function i(t,n){return function(){(0,r.Ts)(this,t).delay=+n.apply(this,arguments)}}function a(t,n){return n=+n,function(){(0,r.Ts)(this,t).delay=n}}function o(t){var n=this._id;return arguments.length?this.each((\"function\"==typeof t?i:a)(n,t)):(0,r.Jt)(this.node(),n).delay}},1388:(t,n,e)=>{e.d(n,{T9:()=>r.A});var r=e(846)},1429:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(3663),i=e(574);function a(){return null}function o(t,n){var e=\"function\"==typeof t?t:(0,r.A)(t),o=null==n?a:\"function\"==typeof n?n:(0,i.A)(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),o.apply(this,arguments)||null)})}},1463:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(29);function i(t,n,e){var i=new r.M4;return n=null==n?0:+n,i.restart(e=>{i.stop(),t(e+n)},n,e),i}},1683:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(747),i=e(9064),a=e(3363);function o(t){var n=this._name,e=this._id;\"function\"!=typeof t&&(t=(0,r.A)(t));for(var o=this._groups,s=o.length,l=[],u=[],c=0;c<s;++c)for(var h,f=o[c],p=f.length,d=0;d<p;++d)if(h=f[d]){for(var v,g=t.call(h,h.__data__,d,f),y=(0,a.Jt)(h,e),m=0,A=g.length;m<A;++m)(v=g[m])&&(0,a.Ay)(v,n,e,m,g,y);l.push(g),u.push(h)}return new i.eB(l,u,n,e)}},1852:(t,n,e)=>{e.d(n,{A:()=>a,D:()=>i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(t,n,e,i,a,o){var s,l,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*i)&&(e-=t*u,i-=n*u),(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l,u/=l),t*i<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(n,t)*r,skewX:Math.atan(u)*r,scaleX:s,scaleY:l}}},1882:(t,n,e)=>{e.d(n,{Ay:()=>O,LN:()=>z,zr:()=>j});var r=e(7952),i=e(9713),a=e(7408),o=e(7867),s=e(9734),l=e(8664),u=e(4916),c=e(2672),h=e(5232),f=e(7610),p=e(4510),d=e(2920),v=e(5152),g=e(3455),y=e(4784),m=e(165),A=e(807),_=e(2901),w=e(7339),x=e(3683),b=e(461),N=e(8235),$=e(7499),S=e(697),M=e(2582),C=e(9215),k=e(8072),E=e(1429),F=e(3900),T=e(9063),D=e(9433),P=e(5233),L=e(202),R=e(1322),j=[null];function z(t,n){this._groups=t,this._parents=n}function B(){return new z([[document.documentElement]],j)}z.prototype=B.prototype={constructor:z,select:r.A,selectAll:i.A,selectChild:a.A,selectChildren:o.A,filter:s.A,data:l.A,enter:u.A,exit:c.A,join:h.A,merge:f.A,selection:function(){return this},order:p.A,sort:d.A,call:v.A,nodes:g.A,node:y.A,size:m.A,empty:A.A,each:_.A,attr:w.A,style:x.A,property:b.A,classed:N.A,text:$.A,html:S.A,raise:M.A,lower:C.A,append:k.A,insert:E.A,remove:F.A,clone:T.A,datum:D.A,on:P.A,dispatch:L.A,[Symbol.iterator]:R.A};const O=B},1943:(t,n,e)=>{e(9902),e(3578)},1957:(t,n,e)=>{e.d(n,{I:()=>s,T:()=>o});var r=e(8981),i=e(1226);function a(t,n,e,i){function a(t){return t.length?t.pop()+\" \":\"\"}return function(o,s){var l=[],u=[];return o=t(o),s=t(s),function(t,i,a,o,s,l){if(t!==a||i!==o){var u=s.push(\"translate(\",null,n,null,e);l.push({i:u-4,x:(0,r.A)(t,a)},{i:u-2,x:(0,r.A)(i,o)})}else(a||o)&&s.push(\"translate(\"+a+n+o+e)}(o.translateX,o.translateY,s.translateX,s.translateY,l,u),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(a(e)+\"rotate(\",null,i)-2,x:(0,r.A)(t,n)})):n&&e.push(a(e)+\"rotate(\"+n+i)}(o.rotate,s.rotate,l,u),function(t,n,e,o){t!==n?o.push({i:e.push(a(e)+\"skewX(\",null,i)-2,x:(0,r.A)(t,n)}):n&&e.push(a(e)+\"skewX(\"+n+i)}(o.skewX,s.skewX,l,u),function(t,n,e,i,o,s){if(t!==e||n!==i){var l=o.push(a(o)+\"scale(\",null,\",\",null,\")\");s.push({i:l-4,x:(0,r.A)(t,e)},{i:l-2,x:(0,r.A)(n,i)})}else 1===e&&1===i||o.push(a(o)+\"scale(\"+e+\",\"+i+\")\")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,u),o=s=null,function(t){for(var n,e=-1,r=u.length;++e<r;)l[(n=u[e]).i]=n.x(t);return l.join(\"\")}}}var o=a(i.P,\"px, \",\"px)\",\"deg)\"),s=a(i.i,\", \",\")\",\")\")},2101:(t,n,e)=>{function r(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}e.d(n,{wq:()=>r})},2130:(t,n,e)=>{e.d(n,{A:()=>l});var r=e(5917),i=e(8946),a=e(8796),o=e(5452),s=e(4552);function l(){var t=o.A,n=a.A,e=null,l=(0,i.A)(0),u=(0,i.A)(s.FA),c=(0,i.A)(0);function h(i){var a,o,h,f,p,d=(i=(0,r.A)(i)).length,v=0,g=new Array(d),y=new Array(d),m=+l.apply(this,arguments),A=Math.min(s.FA,Math.max(-s.FA,u.apply(this,arguments)-m)),_=Math.min(Math.abs(A)/d,c.apply(this,arguments)),w=_*(A<0?-1:1);for(a=0;a<d;++a)(p=y[g[a]=a]=+t(i[a],a,i))>0&&(v+=p);for(null!=n?g.sort(function(t,e){return n(y[t],y[e])}):null!=e&&g.sort(function(t,n){return e(i[t],i[n])}),a=0,h=v?(A-d*w)/v:0;a<d;++a,m=f)o=g[a],f=m+((p=y[o])>0?p*h:0)+w,y[o]={data:i[o],index:a,value:p,startAngle:m,endAngle:f,padAngle:_};return y}return h.value=function(n){return arguments.length?(t=\"function\"==typeof n?n:(0,i.A)(+n),h):t},h.sortValues=function(t){return arguments.length?(n=t,e=null,h):n},h.sort=function(t){return arguments.length?(e=t,n=null,h):e},h.startAngle=function(t){return arguments.length?(l=\"function\"==typeof t?t:(0,i.A)(+t),h):l},h.endAngle=function(t){return arguments.length?(u=\"function\"==typeof t?t:(0,i.A)(+t),h):u},h.padAngle=function(t){return arguments.length?(c=\"function\"==typeof t?t:(0,i.A)(+t),h):c},h}},2279:(t,n,e)=>{e.d(n,{b:()=>o});var r=e(7674),i=e(756),a=e(9214);class o{target;host;formattingSettings;formattingSettingsService;canvasContainer;canvas;canvasContext;svgContainer;svg;svgGroup;margin={top:30,right:20,bottom:50,left:50};constructor(t){console.log(\"Visual constructor\",t),this.host=t.host,this.formattingSettingsService=new r.O,this.target=t.element;const n=document.createElement(\"div\");n.className=\"main-container\",this.target.appendChild(n),this.canvasContainer=document.createElement(\"div\"),this.canvasContainer.className=\"canvas-container\",n.appendChild(this.canvasContainer);const e=document.createElement(\"h3\");e.textContent=\"Canvas Bar Chart\",e.className=\"visual-title\",this.canvasContainer.appendChild(e),this.canvas=document.createElement(\"canvas\"),this.canvasContainer.appendChild(this.canvas),this.canvasContext=this.canvas.getContext(\"2d\"),this.svgContainer=document.createElement(\"div\"),this.svgContainer.className=\"svg-container\",n.appendChild(this.svgContainer);const a=document.createElement(\"h3\");a.textContent=\"D3.js Donut Chart\",a.className=\"visual-title\",this.svgContainer.appendChild(a),this.svg=i.Ltv(this.svgContainer).append(\"svg\").attr(\"class\",\"d3-svg\"),this.svgGroup=this.svg.append(\"g\").attr(\"class\",\"svg-group\")}update(t){if(console.log(\"Visual update\",t),this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(a.S,t.dataViews?.[0]),!t.dataViews||!t.dataViews[0]||!t.dataViews[0].categorical)return;const n=t.dataViews[0],e=this.getDataPoints(n);if(0===e.length)return;const r=t.viewport,i=r.width/2,o=i-20,s=r.height-40-20;this.canvas.width=o,this.canvas.height=s,this.canvas.style.width=`${o}px`,this.canvas.style.height=`${s}px`;const l=i-20,u=r.height-40-20;this.svg.attr(\"width\",l).attr(\"height\",u),this.renderCanvasBarChart(e,o,s),this.renderSVGDonutChart(e,l,u)}getDataPoints(t){const n=t.categorical,e=n.categories?.[0],r=n.values?.[0],i=[];if(!e||!r)return i;const a=this.host.colorPalette;for(let t=0;t<e.values.length;t++){const n=a.getColor(t.toString()).value;i.push({category:e.values[t],value:r.values[t],color:n})}return i}renderCanvasBarChart(t,n,e){const r=this.canvasContext,a=n-this.margin.left-this.margin.right,o=e-this.margin.top-this.margin.bottom;if(r.clearRect(0,0,n,e),a<=0||o<=0)return;r.save(),r.translate(this.margin.left,this.margin.top);const s=a/t.length*.8,l=a/t.length,u=i.T9B(t,t=>t.value)||1;t.forEach((t,n)=>{const e=n*l+.1*l,i=t.value/u*o,a=o-i,c=r.createLinearGradient(e,a,e,o);c.addColorStop(0,t.color),c.addColorStop(1,this.adjustColorBrightness(t.color,-30)),r.fillStyle=c,r.fillRect(e,a,s,i),r.strokeStyle=\"#fff\",r.lineWidth=2,r.strokeRect(e,a,s,i),r.fillStyle=\"#333\",r.font=\"bold 12px sans-serif\",r.textAlign=\"center\",r.fillText(t.value.toFixed(0),e+s/2,a-5),r.save(),r.translate(e+s/2,o+15),r.rotate(-.5),r.fillStyle=\"#666\",r.font=\"11px sans-serif\",r.textAlign=\"right\",r.fillText(t.category,0,0),r.restore()}),r.restore()}renderSVGDonutChart(t,n,e){const r=Math.min(n,e)/2-40,a=.6*r;this.svgGroup.selectAll(\"*\").remove(),this.svgGroup.attr(\"transform\",`translate(${n/2}, ${e/2})`);const o=i.rLf().value(t=>t.value).sort(null),s=i.JLW().innerRadius(a).outerRadius(r),l=i.JLW().innerRadius(a).outerRadius(r+10),u=this.svgGroup.selectAll(\".arc\").data(o(t)).enter().append(\"g\").attr(\"class\",\"arc\");u.append(\"path\").attr(\"d\",s).attr(\"fill\",t=>t.data.color).attr(\"stroke\",\"#fff\").attr(\"stroke-width\",2).style(\"cursor\",\"pointer\").on(\"mouseover\",function(t,n){i.Ltv(this).transition().duration(200).attr(\"d\",l)}).on(\"mouseout\",function(t,n){i.Ltv(this).transition().duration(200).attr(\"d\",s)}),u.append(\"text\").attr(\"transform\",t=>`translate(${s.centroid(t)})`).attr(\"text-anchor\",\"middle\").attr(\"font-size\",\"12px\").attr(\"font-weight\",\"bold\").attr(\"fill\",\"#fff\").style(\"pointer-events\",\"none\").text(t=>t.data.value.toFixed(0));const c=this.svgGroup.append(\"g\").attr(\"class\",\"legend\").attr(\"transform\",`translate(${-n/2+10}, ${-e/2+10})`).selectAll(\".legend-item\").data(t).enter().append(\"g\").attr(\"class\",\"legend-item\").attr(\"transform\",(t,n)=>`translate(0, ${25*n})`);c.append(\"rect\").attr(\"width\",18).attr(\"height\",18).attr(\"fill\",t=>t.color),c.append(\"text\").attr(\"x\",24).attr(\"y\",9).attr(\"dy\",\".35em\").attr(\"font-size\",\"11px\").attr(\"fill\",\"#666\").text(t=>`${t.category} (${t.value.toFixed(0)})`)}adjustColorBrightness(t,n){const e=parseInt(t.replace(\"#\",\"\"),16);return`#${(Math.max(0,Math.min(255,(e>>16)+n))<<16|Math.max(0,Math.min(255,(e>>8&255)+n))<<8|Math.max(0,Math.min(255,(255&e)+n))).toString(16).padStart(6,\"0\")}`}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}}},2582:(t,n,e)=>{function r(){this.nextSibling&&this.parentNode.appendChild(this)}function i(){return this.each(r)}e.d(n,{A:()=>i})},2672:(t,n,e)=>{e.d(n,{A:()=>a});var r=e(6732),i=e(1882);function a(){return new i.LN(this._exit||this._groups.map(r.A),this._parents)}},2716:(t,n,e)=>{e.d(n,{A:()=>f});var r=e(8946),i=e(4552),a=e(4125);function o(t){return t.innerRadius}function s(t){return t.outerRadius}function l(t){return t.startAngle}function u(t){return t.endAngle}function c(t){return t&&t.padAngle}function h(t,n,e,r,a,o,s){var l=t-e,u=n-r,c=(s?o:-o)/(0,i.RZ)(l*l+u*u),h=c*u,f=-c*l,p=t+h,d=n+f,v=e+h,g=r+f,y=(p+v)/2,m=(d+g)/2,A=v-p,_=g-d,w=A*A+_*_,x=a-o,b=p*g-v*d,N=(_<0?-1:1)*(0,i.RZ)((0,i.T9)(0,x*x*w-b*b)),$=(b*_-A*N)/w,S=(-b*A-_*N)/w,M=(b*_+A*N)/w,C=(-b*A+_*N)/w,k=$-y,E=S-m,F=M-y,T=C-m;return k*k+E*E>F*F+T*T&&($=M,S=C),{cx:$,cy:S,x01:-h,y01:-f,x11:$*(a/x-1),y11:S*(a/x-1)}}function f(){var t=o,n=s,e=(0,r.A)(0),f=null,p=l,d=u,v=c,g=null,y=(0,a.i)(m);function m(){var r,a,o=+t.apply(this,arguments),s=+n.apply(this,arguments),l=p.apply(this,arguments)-i.TW,u=d.apply(this,arguments)-i.TW,c=(0,i.tn)(u-l),m=u>l;if(g||(g=r=y()),s<o&&(a=s,s=o,o=a),s>i.Ni)if(c>i.FA-i.Ni)g.moveTo(s*(0,i.gn)(l),s*(0,i.F8)(l)),g.arc(0,0,s,l,u,!m),o>i.Ni&&(g.moveTo(o*(0,i.gn)(u),o*(0,i.F8)(u)),g.arc(0,0,o,u,l,m));else{var A,_,w=l,x=u,b=l,N=u,$=c,S=c,M=v.apply(this,arguments)/2,C=M>i.Ni&&(f?+f.apply(this,arguments):(0,i.RZ)(o*o+s*s)),k=(0,i.jk)((0,i.tn)(s-o)/2,+e.apply(this,arguments)),E=k,F=k;if(C>i.Ni){var T=(0,i.qR)(C/o*(0,i.F8)(M)),D=(0,i.qR)(C/s*(0,i.F8)(M));($-=2*T)>i.Ni?(b+=T*=m?1:-1,N-=T):($=0,b=N=(l+u)/2),(S-=2*D)>i.Ni?(w+=D*=m?1:-1,x-=D):(S=0,w=x=(l+u)/2)}var P=s*(0,i.gn)(w),L=s*(0,i.F8)(w),R=o*(0,i.gn)(N),j=o*(0,i.F8)(N);if(k>i.Ni){var z,B=s*(0,i.gn)(x),O=s*(0,i.F8)(x),V=o*(0,i.gn)(b),q=o*(0,i.F8)(b);if(c<i.pi)if(z=function(t,n,e,r,a,o,s,l){var u=e-t,c=r-n,h=s-a,f=l-o,p=f*u-h*c;if(!(p*p<i.Ni))return[t+(p=(h*(n-o)-f*(t-a))/p)*u,n+p*c]}(P,L,V,q,B,O,R,j)){var K=P-z[0],I=L-z[1],X=B-z[0],Z=O-z[1],J=1/(0,i.F8)((0,i.HQ)((K*X+I*Z)/((0,i.RZ)(K*K+I*I)*(0,i.RZ)(X*X+Z*Z)))/2),H=(0,i.RZ)(z[0]*z[0]+z[1]*z[1]);E=(0,i.jk)(k,(o-H)/(J-1)),F=(0,i.jk)(k,(s-H)/(J+1))}else E=F=0}S>i.Ni?F>i.Ni?(A=h(V,q,P,L,s,F,m),_=h(B,O,R,j,s,F,m),g.moveTo(A.cx+A.x01,A.cy+A.y01),F<k?g.arc(A.cx,A.cy,F,(0,i.FP)(A.y01,A.x01),(0,i.FP)(_.y01,_.x01),!m):(g.arc(A.cx,A.cy,F,(0,i.FP)(A.y01,A.x01),(0,i.FP)(A.y11,A.x11),!m),g.arc(0,0,s,(0,i.FP)(A.cy+A.y11,A.cx+A.x11),(0,i.FP)(_.cy+_.y11,_.cx+_.x11),!m),g.arc(_.cx,_.cy,F,(0,i.FP)(_.y11,_.x11),(0,i.FP)(_.y01,_.x01),!m))):(g.moveTo(P,L),g.arc(0,0,s,w,x,!m)):g.moveTo(P,L),o>i.Ni&&$>i.Ni?E>i.Ni?(A=h(R,j,B,O,o,-E,m),_=h(P,L,V,q,o,-E,m),g.lineTo(A.cx+A.x01,A.cy+A.y01),E<k?g.arc(A.cx,A.cy,E,(0,i.FP)(A.y01,A.x01),(0,i.FP)(_.y01,_.x01),!m):(g.arc(A.cx,A.cy,E,(0,i.FP)(A.y01,A.x01),(0,i.FP)(A.y11,A.x11),!m),g.arc(0,0,o,(0,i.FP)(A.cy+A.y11,A.cx+A.x11),(0,i.FP)(_.cy+_.y11,_.cx+_.x11),m),g.arc(_.cx,_.cy,E,(0,i.FP)(_.y11,_.x11),(0,i.FP)(_.y01,_.x01),!m))):g.arc(0,0,o,N,b,m):g.lineTo(R,j)}else g.moveTo(0,0);if(g.closePath(),r)return g=null,r+\"\"||null}return m.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+p.apply(this,arguments)+ +d.apply(this,arguments))/2-i.pi/2;return[(0,i.gn)(r)*e,(0,i.F8)(r)*e]},m.innerRadius=function(n){return arguments.length?(t=\"function\"==typeof n?n:(0,r.A)(+n),m):t},m.outerRadius=function(t){return arguments.length?(n=\"function\"==typeof t?t:(0,r.A)(+t),m):n},m.cornerRadius=function(t){return arguments.length?(e=\"function\"==typeof t?t:(0,r.A)(+t),m):e},m.padRadius=function(t){return arguments.length?(f=null==t?null:\"function\"==typeof t?t:(0,r.A)(+t),m):f},m.startAngle=function(t){return arguments.length?(p=\"function\"==typeof t?t:(0,r.A)(+t),m):p},m.endAngle=function(t){return arguments.length?(d=\"function\"==typeof t?t:(0,r.A)(+t),m):d},m.padAngle=function(t){return arguments.length?(v=\"function\"==typeof t?t:(0,r.A)(+t),m):v},m.context=function(t){return arguments.length?(g=null==t?null:t,m):g},m}},2901:(t,n,e)=>{function r(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this}e.d(n,{A:()=>r})},2920:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(1882);function i(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=a);for(var e=this._groups,i=e.length,o=new Array(i),s=0;s<i;++s){for(var l,u=e[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(l=u[f])&&(h[f]=l);h.sort(n)}return new r.LN(o,this._parents).order()}function a(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}},3116:(t,n,e)=>{e.d(n,{A:()=>r});const r=t=>()=>t},3206:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(574),i=e(9064),a=e(3363);function o(t){var n=this._name,e=this._id;\"function\"!=typeof t&&(t=(0,r.A)(t));for(var o=this._groups,s=o.length,l=new Array(s),u=0;u<s;++u)for(var c,h,f=o[u],p=f.length,d=l[u]=new Array(p),v=0;v<p;++v)(c=f[v])&&(h=t.call(c,c.__data__,v,f))&&(\"__data__\"in c&&(h.__data__=c.__data__),d[v]=h,(0,a.Ay)(d[v],n,e,v,d,(0,a.Jt)(c,e)));return new i.eB(l,this._parents,n,e)}},3363:(t,n,e)=>{e.d(n,{Ay:()=>v,Jt:()=>m,Op:()=>p,Ts:()=>g,hV:()=>d,hZ:()=>y,xo:()=>c});var r=e(1089),i=e(29),a=e(1463),o=(0,r.A)(\"start\",\"end\",\"cancel\",\"interrupt\"),s=[],l=0,u=1,c=2,h=3,f=4,p=5,d=6;function v(t,n,e,r,v,g){var y=t.__transition;if(y){if(e in y)return}else t.__transition={};!function(t,n,e){var r,o=t.__transition;function s(i){var p,g,y,m;if(e.state!==u)return v();for(p in o)if((m=o[p]).name===e.name){if(m.state===h)return(0,a.A)(s);m.state===f?(m.state=d,m.timer.stop(),m.on.call(\"interrupt\",t,t.__data__,m.index,m.group),delete o[p]):+p<n&&(m.state=d,m.timer.stop(),m.on.call(\"cancel\",t,t.__data__,m.index,m.group),delete o[p])}if((0,a.A)(function(){e.state===h&&(e.state=f,e.timer.restart(l,e.delay,e.time),l(i))}),e.state=c,e.on.call(\"start\",t,t.__data__,e.index,e.group),e.state===c){for(e.state=h,r=new Array(y=e.tween.length),p=0,g=-1;p<y;++p)(m=e.tween[p].value.call(t,t.__data__,e.index,e.group))&&(r[++g]=m);r.length=g+1}}function l(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(v),e.state=p,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===p&&(e.on.call(\"end\",t,t.__data__,e.index,e.group),v())}function v(){for(var r in e.state=d,e.timer.stop(),delete o[n],o)return;delete t.__transition}o[n]=e,e.timer=(0,i.O1)(function(t){e.state=u,e.timer.restart(s,e.delay,e.time),e.delay<=t&&s(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:v,on:o,tween:s,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:l})}function g(t,n){var e=m(t,n);if(e.state>l)throw new Error(\"too late; already scheduled\");return e}function y(t,n){var e=m(t,n);if(e.state>h)throw new Error(\"too late; already running\");return e}function m(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error(\"transition not found\");return e}},3446:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(7268);function i(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function a(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function o(t,n){var e=\"attr.\"+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if(\"function\"!=typeof n)throw new Error;var o=(0,r.A)(t);return this.tween(e,(o.local?i:a)(o,n))}},3455:(t,n,e)=>{function r(){return Array.from(this)}e.d(n,{A:()=>r})},3537:(t,n,e)=>{e(8965)},3578:(t,n,e)=>{function r(t,n,e){this.k=t,this.x=n,this.y=e}r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new r(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}},new r(1,0,0),r.prototype},3589:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3363);function i(){var t,n,e=this,i=e._id,a=e.size();return new Promise(function(o,s){var l={value:s},u={value:function(){0===--a&&o()}};e.each(function(){var e=(0,r.hZ)(this,i),a=e.on;a!==t&&((n=(t=a).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(u)),e.on=n}),0===a&&o()})}},3663:(t,n,e)=>{e.d(n,{A:()=>s});var r=e(7268),i=e(7947);function a(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===i.g&&n.documentElement.namespaceURI===i.g?n.createElement(t):n.createElementNS(e,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var n=(0,r.A)(t);return(n.local?o:a)(n)}},3683:(t,n,e)=>{e.d(n,{A:()=>s,j:()=>l});var r=e(6747);function i(t){return function(){this.style.removeProperty(t)}}function a(t,n,e){return function(){this.style.setProperty(t,n,e)}}function o(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function s(t,n,e){return arguments.length>1?this.each((null==n?i:\"function\"==typeof n?o:a)(t,n,null==e?\"\":e)):l(this.node(),t)}function l(t,n){return t.style.getPropertyValue(n)||(0,r.A)(t).getComputedStyle(t,null).getPropertyValue(n)}},3900:(t,n,e)=>{function r(){var t=this.parentNode;t&&t.removeChild(this)}function i(){return this.each(r)}e.d(n,{A:()=>i})},4083:(t,n,e)=>{e.d(n,{wA:()=>l});const r=Math.PI,i=2*r,a=1e-6,o=i-a;function s(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class l{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._=\"\",this._append=null==t?s:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return s;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,a){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,e,i,o){if(t=+t,n=+n,e=+e,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=e-t,c=i-n,h=s-t,f=l-n,p=h*h+f*f;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(p>a)if(Math.abs(f*u-c*h)>a&&o){let d=e-s,v=i-l,g=u*u+c*c,y=d*d+v*v,m=Math.sqrt(g),A=Math.sqrt(p),_=o*Math.tan((r-Math.acos((g+p-y)/(2*m*A)))/2),w=_/A,x=_/m;Math.abs(w-1)>a&&this._append`L${t+w*h},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*d>h*v)},${this._x1=t+x*u},${this._y1=n+x*c}`}else this._append`L${this._x1=t},${this._y1=n}`}arc(t,n,e,s,l,u){if(t=+t,n=+n,u=!!u,(e=+e)<0)throw new Error(`negative radius: ${e}`);let c=e*Math.cos(s),h=e*Math.sin(s),f=t+c,p=n+h,d=1^u,v=u?s-l:l-s;null===this._x1?this._append`M${f},${p}`:(Math.abs(this._x1-f)>a||Math.abs(this._y1-p)>a)&&this._append`L${f},${p}`,e&&(v<0&&(v=v%i+i),v>o?this._append`A${e},${e},0,1,${d},${t-c},${n-h}A${e},${e},0,1,${d},${this._x1=f},${this._y1=p}`:v>a&&this._append`A${e},${e},0,${+(v>=r)},${d},${this._x1=t+e*Math.cos(l)},${this._y1=n+e*Math.sin(l)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}}},4125:(t,n,e)=>{e.d(n,{i:()=>i});var r=e(4083);function i(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new r.wA(n)}},4228:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3363);function i(t){var n=this._id;return arguments.length?this.each(function(t,n){if(\"function\"!=typeof n)throw new Error;return function(){(0,r.hZ)(this,t).ease=n}}(n,t)):(0,r.Jt)(this.node(),n).ease}},4510:(t,n,e)=>{function r(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}e.d(n,{A:()=>r})},4552:(t,n,e)=>{e.d(n,{F8:()=>l,FA:()=>p,FP:()=>i,HQ:()=>d,Ni:()=>c,RZ:()=>u,T9:()=>o,TW:()=>f,gn:()=>a,jk:()=>s,pi:()=>h,qR:()=>v,tn:()=>r});const r=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,l=Math.sin,u=Math.sqrt,c=1e-12,h=Math.PI,f=h/2,p=2*h;function d(t){return t>1?0:t<-1?h:Math.acos(t)}function v(t){return t>=1?f:t<=-1?-f:Math.asin(t)}},4620:(t,n,e)=>{e.d(n,{A:()=>u});var r=e(9064),i=e(3363),a=e(2101),o=e(29),s={time:null,delay:0,duration:250,ease:a.wq};function l(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function u(t){var n,e;t instanceof r.eB?(n=t._id,t=t._name):(n=(0,r.Si)(),(e=s).time=(0,o.tB)(),t=null==t?null:t+\"\");for(var a=this._groups,u=a.length,c=0;c<u;++c)for(var h,f=a[c],p=f.length,d=0;d<p;++d)(h=f[d])&&(0,i.Ay)(h,t,n,d,f,e||l(h,n));return new r.eB(a,this._parents,t,n)}},4709:(t,n,e)=>{e.d(n,{Ay:()=>a,uN:()=>i});var r=e(3116);function i(t){return 1===(t=+t)?a:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):(0,r.A)(isNaN(n)?e:n)}}function a(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):(0,r.A)(isNaN(t)?n:t)}},4784:(t,n,e)=>{function r(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}e.d(n,{A:()=>r})},4876:(t,n,e)=>{e.d(n,{A:()=>a});var r=e(6541),i=e(9064);function a(t){\"function\"!=typeof t&&(t=(0,r.A)(t));for(var n=this._groups,e=n.length,a=new Array(e),o=0;o<e;++o)for(var s,l=n[o],u=l.length,c=a[o]=[],h=0;h<u;++h)(s=l[h])&&t.call(s,s.__data__,h,l)&&c.push(s);return new i.eB(a,this._parents,this._name,this._id)}},4916:(t,n,e)=>{e.d(n,{A:()=>a,L:()=>o});var r=e(6732),i=e(1882);function a(){return new i.LN(this._enter||this._groups.map(r.A),this._parents)}function o(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},5152:(t,n,e)=>{function r(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}e.d(n,{A:()=>r})},5182:(t,n,e)=>{function r(){return this.on(\"end.remove\",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t}e.d(n,{A:()=>r})},5207:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3363);function i(t,n){var e=this._id;return arguments.length<2?(0,r.Jt)(this.node(),e).on.on(t):this.each(function(t,n,e){var i,a,o=function(t){return(t+\"\").trim().split(/^|\\s+/).every(function(t){var n=t.indexOf(\".\");return n>=0&&(t=t.slice(0,n)),!t||\"start\"===t})}(n)?r.Ts:r.hZ;return function(){var r=o(this,t),s=r.on;s!==i&&(a=(i=s).copy()).on(n,e),r.on=a}}(e,t,n))}},5232:(t,n,e)=>{function r(t,n,e){var r=this.enter(),i=this,a=this.exit();return\"function\"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+\"\"),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i}e.d(n,{A:()=>r})},5233:(t,n,e)=>{function r(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function i(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function a(t,n,e){var a,o,s=function(t){return t.trim().split(/^|\\s+/).map(function(t){var n=\"\",e=t.indexOf(\".\");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+\"\"),l=s.length;if(!(arguments.length<2)){for(u=n?i:r,a=0;a<l;++a)this.each(u(s[a],n,e));return this}var u=this.node().__on;if(u)for(var c,h=0,f=u.length;h<f;++h)for(a=0,c=u[h];a<l;++a)if((o=s[a]).type===c.type&&o.name===c.name)return c.value}e.d(n,{A:()=>a})},5452:(t,n,e)=>{function r(t){return t}e.d(n,{A:()=>r})},5478:(t,n,e)=>{function r(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}e.d(n,{A:()=>r})},5509:(t,n,e)=>{e.d(n,{A:()=>a});var r=e(9064),i=e(3363);function a(){for(var t=this._name,n=this._id,e=(0,r.Si)(),a=this._groups,o=a.length,s=0;s<o;++s)for(var l,u=a[s],c=u.length,h=0;h<c;++h)if(l=u[h]){var f=(0,i.Jt)(l,n);(0,i.Ay)(l,t,e,h,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.eB(a,this._parents,t,e)}},5636:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(9064);function i(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,a=e.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u,c=n[l],h=e[l],f=c.length,p=s[l]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(p[d]=u);for(;l<i;++l)s[l]=n[l];return new r.eB(s,this._parents,this._name,this._id)}},5868:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(7045);function i(t){return this.each(function(){(0,r.A)(this,t)})}},5917:(t,n,e)=>{function r(t){return\"object\"==typeof t&&\"length\"in t?t:Array.from(t)}e.d(n,{A:()=>r}),Array.prototype.slice},6066:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3363);function i(t){if(\"function\"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if(\"function\"!=typeof e)throw new Error;(0,r.hZ)(this,t).ease=e}}(this._id,t))}},6160:(t,n,e)=>{function r(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function i(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[i],o=t[i+1],s=i>0?t[i-1]:2*a-o,l=i<n-1?t[i+2]:2*o-a;return r((e-i/n)*n,s,a,o,l)}}e.d(n,{A:()=>i,H:()=>r})},6470:(t,n,e)=>{e(1943),e(3578)},6541:(t,n,e)=>{function r(t){return function(){return this.matches(t)}}function i(t){return function(n){return n.matches(t)}}e.d(n,{A:()=>r,j:()=>i})},6558:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(3363);function i(t,n){return function(){(0,r.hZ)(this,t).duration=+n.apply(this,arguments)}}function a(t,n){return n=+n,function(){(0,r.hZ)(this,t).duration=n}}function o(t){var n=this._id;return arguments.length?this.each((\"function\"==typeof t?i:a)(n,t)):(0,r.Jt)(this.node(),n).duration}},6588:(t,n,e)=>{e.d(n,{JL:()=>r.A,rL:()=>i.A});var r=e(2716),i=e(2130)},6667:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(9754);const i=class{constructor(t){this.localizationManager=t}populateFormattingSettingsModel(t,n){var e,i;const a=new t,o=null===(e=null==n?void 0:n.metadata)||void 0===e?void 0:e.objects;return o&&(null===(i=a.cards)||void 0===i||i.forEach(t=>{var n;t instanceof r.St&&(null===(n=t.topLevelSlice)||void 0===n||n.setPropertiesValues(o,t.name)),(t instanceof r.Tn?[t]:t.groups).forEach(n=>{var e,r,i,a;null===(e=n.topLevelSlice)||void 0===e||e.setPropertiesValues(o,t.name),null===(r=null==n?void 0:n.slices)||void 0===r||r.forEach(n=>{null==n||n.setPropertiesValues(o,t.name)}),null===(a=null===(i=null==n?void 0:n.container)||void 0===i?void 0:i.containerItems)||void 0===a||a.forEach(n=>{var e;null===(e=null==n?void 0:n.slices)||void 0===e||e.forEach(n=>{null==n||n.setPropertiesValues(o,t.name)})})})})),a}buildFormattingModel(t){const n={cards:[]};return t.cards.filter(({visible:t=!0})=>t).forEach(t=>{var e;const i={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,description:this.localizationManager&&t.descriptionKey?this.localizationManager.getDisplayName(t.descriptionKey):t.description,groups:[],uid:t.name+\"-card\",analyticsPane:t.analyticsPane},a=t.name;if(t.topLevelSlice){const n=t.topLevelSlice.getFormattingSlice(a,this.localizationManager);n.suppressDisplayName=!0,i.topLevelToggle=n}null===(e=t.onPreProcess)||void 0===e||e.call(t);const o=t instanceof r.Tn;(o?[t].filter(({visible:t=!0})=>t):t.groups.filter(({visible:t=!0})=>t)).forEach(t=>{const n=t.name+\"-group\",e={displayName:o?void 0:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,description:o?void 0:this.localizationManager&&t.descriptionKey?this.localizationManager.getDisplayName(t.descriptionKey):t.description,slices:[],uid:n,collapsible:t.collapsible,delaySaveSlices:t.delaySaveSlices,disabled:t.disabled,disabledReason:t.disabledReason};i.groups.push(e);const r={};if(t.container){const i=t.container,o=n+\"-container\",s={displayName:this.localizationManager&&i.displayNameKey?this.localizationManager.getDisplayName(i.displayNameKey):i.displayName,description:this.localizationManager&&i.descriptionKey?this.localizationManager.getDisplayName(i.descriptionKey):i.description,containerItems:[],uid:o};i.containerItems.forEach(t=>{const n=t.displayNameKey?t.displayNameKey:t.displayName,e=o+n,i={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,slices:[],uid:e};this.buildFormattingSlices({slices:t.slices,objectName:a,sliceNames:r,formattingSlices:i.slices}),s.containerItems.push(i)}),e.container=s}if(t.slices){if(t.topLevelSlice){const n=t.topLevelSlice.getFormattingSlice(a,this.localizationManager);n.suppressDisplayName=!0,(null==e.displayName?i:e).topLevelToggle=n}this.buildFormattingSlices({slices:t.slices,objectName:a,sliceNames:r,formattingSlices:e.slices})}}),i.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(t),n.cards.push(i)}),n}buildFormattingSlices({slices:t,objectName:n,sliceNames:e,formattingSlices:r}){null==t||t.filter(({visible:t=!0})=>t).forEach(t=>{const i=null==t?void 0:t.getFormattingSlice(n,this.localizationManager);i&&(void 0===e[t.name]?e[t.name]=0:(e[t.name]++,i.uid=`${i.uid}-${e[t.name]}`),r.push(i))})}getRevertToDefaultDescriptor(t){var n;const e={},i=[];let a,o=[];return t instanceof r.St&&t.topLevelSlice&&i.push(...null===(n=t.topLevelSlice)||void 0===n?void 0:n.getRevertToDefaultDescriptor(t.name)),(t instanceof r.Tn?[t].filter(({visible:t=!0})=>t):t.groups.filter(({visible:t=!0})=>t)).forEach(n=>{var r,s;a=this.getSlicesRevertToDefaultDescriptor(t.name,n.slices,e,n.topLevelSlice),null===(s=null===(r=n.container)||void 0===r?void 0:r.containerItems)||void 0===s||s.forEach(n=>{o=o.concat(this.getSlicesRevertToDefaultDescriptor(t.name,n.slices,e))}),i.push(...a.concat(o))}),i}getSlicesRevertToDefaultDescriptor(t,n,e,r){let i=[];return r&&(e[r.name]=!0,i=i.concat(r.getRevertToDefaultDescriptor(t))),null==n||n.forEach(n=>{n&&!e[n.name]&&(e[n.name]=!0,i=i.concat(n.getRevertToDefaultDescriptor(t)))}),i}}},6732:(t,n,e)=>{function r(t){return new Array(t.length)}e.d(n,{A:()=>r})},6747:(t,n,e)=>{function r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}e.d(n,{A:()=>r})},6957:(t,n,e)=>{e.d(n,{Ay:()=>_,Qh:()=>b});var r=e(871);function i(){}var a=.7,o=1/a,s=\"\\\\s*([+-]?\\\\d+)\\\\s*\",l=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",u=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",c=/^#([0-9a-f]{3,8})$/,h=new RegExp(`^rgb\\\\(${s},${s},${s}\\\\)$`),f=new RegExp(`^rgb\\\\(${u},${u},${u}\\\\)$`),p=new RegExp(`^rgba\\\\(${s},${s},${s},${l}\\\\)$`),d=new RegExp(`^rgba\\\\(${u},${u},${u},${l}\\\\)$`),v=new RegExp(`^hsl\\\\(${l},${u},${u}\\\\)$`),g=new RegExp(`^hsla\\\\(${l},${u},${u},${l}\\\\)$`),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function A(){return this.rgb().formatRgb()}function _(t){var n,e;return t=(t+\"\").trim().toLowerCase(),(n=c.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?w(n):3===e?new N(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?x(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?x(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=h.exec(t))?new N(n[1],n[2],n[3],1):(n=f.exec(t))?new N(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=p.exec(t))?x(n[1],n[2],n[3],n[4]):(n=d.exec(t))?x(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=v.exec(t))?E(n[1],n[2]/100,n[3]/100,1):(n=g.exec(t))?E(n[1],n[2]/100,n[3]/100,n[4]):y.hasOwnProperty(t)?w(y[t]):\"transparent\"===t?new N(NaN,NaN,NaN,0):null}function w(t){return new N(t>>16&255,t>>8&255,255&t,1)}function x(t,n,e,r){return r<=0&&(t=n=e=NaN),new N(t,n,e,r)}function b(t,n,e,r){return 1===arguments.length?((a=t)instanceof i||(a=_(a)),a?new N((a=a.rgb()).r,a.g,a.b,a.opacity):new N):new N(t,n,e,null==r?1:r);var a}function N(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function $(){return`#${k(this.r)}${k(this.g)}${k(this.b)}`}function S(){const t=M(this.opacity);return`${1===t?\"rgb(\":\"rgba(\"}${C(this.r)}, ${C(this.g)}, ${C(this.b)}${1===t?\")\":`, ${t})`}`}function M(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function C(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function k(t){return((t=C(t))<16?\"0\":\"\")+t.toString(16)}function E(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new T(t,n,e,r)}function F(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=_(t)),!t)return new T;if(t instanceof T)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,a=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,l=o-a,u=(o+a)/2;return l?(s=n===o?(e-r)/l+6*(e<r):e===o?(r-n)/l+2:(n-e)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new T(s,l,u,t.opacity)}function T(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function D(t){return(t=(t||0)%360)<0?t+360:t}function P(t){return Math.max(0,Math.min(1,t||0))}function L(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}(0,r.A)(i,_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m,formatHex:m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return F(this).formatHsl()},formatRgb:A,toString:A}),(0,r.A)(N,b,(0,r.X)(i,{brighter(t){return t=null==t?o:Math.pow(o,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?a:Math.pow(a,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new N(C(this.r),C(this.g),C(this.b),M(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$,formatHex:$,formatHex8:function(){return`#${k(this.r)}${k(this.g)}${k(this.b)}${k(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:S,toString:S})),(0,r.A)(T,function(t,n,e,r){return 1===arguments.length?F(t):new T(t,n,e,null==r?1:r)},(0,r.X)(i,{brighter(t){return t=null==t?o:Math.pow(o,t),new T(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?a:Math.pow(a,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new N(L(t>=240?t-240:t+120,i,r),L(t,i,r),L(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new T(D(this.h),P(this.s),P(this.l),M(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=M(this.opacity);return`${1===t?\"hsl(\":\"hsla(\"}${D(this.h)}, ${100*P(this.s)}%, ${100*P(this.l)}%${1===t?\")\":`, ${t})`}`}}))},7045:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3363);function i(t,n){var e,i,a,o=t.__transition,s=!0;if(o){for(a in n=null==n?null:n+\"\",o)(e=o[a]).name===n?(i=e.state>r.xo&&e.state<r.Op,e.state=r.hV,e.timer.stop(),e.on.call(i?\"interrupt\":\"cancel\",t,t.__data__,e.index,e.group),delete o[a]):s=!1;s&&delete t.__transition}}},7111:(t,n,e)=>{var r=e(1882),i=e(5868),a=e(4620);r.Ay.prototype.interrupt=i.A,r.Ay.prototype.transition=a.A},7268:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(7947);function i(t){var n=t+=\"\",e=n.indexOf(\":\");return e>=0&&\"xmlns\"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),r.A.hasOwnProperty(n)?{space:r.A[n],local:t}:t}},7270:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(1882).Ay.prototype.constructor;function i(){return new r(this._groups,this._parents)}},7339:(t,n,e)=>{e.d(n,{A:()=>c});var r=e(7268);function i(t){return function(){this.removeAttribute(t)}}function a(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,n){return function(){this.setAttribute(t,n)}}function s(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function l(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function u(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function c(t,n){var e=(0,r.A)(t);if(arguments.length<2){var c=this.node();return e.local?c.getAttributeNS(e.space,e.local):c.getAttribute(e)}return this.each((null==n?e.local?a:i:\"function\"==typeof n?e.local?u:l:e.local?s:o)(e,n))}},7408:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(6541),i=Array.prototype.find;function a(){return this.firstElementChild}function o(t){return this.select(null==t?a:function(t){return function(){return i.call(this.children,t)}}(\"function\"==typeof t?t:(0,r.j)(t)))}},7479:(t,n,e)=>{e.d(n,{A:()=>s});var r=e(6957),i=e(8981),a=e(7737),o=e(1197);function s(t,n){var e;return(\"number\"==typeof n?i.A:n instanceof r.Ay?o.Ay:(e=(0,r.Ay)(n))?(n=e,o.Ay):a.A)(t,n)}},7499:(t,n,e)=>{function r(){this.textContent=\"\"}function i(t){return function(){this.textContent=t}}function a(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?\"\":n}}function o(t){return arguments.length?this.each(null==t?r:(\"function\"==typeof t?a:i)(t)):this.node().textContent}e.d(n,{A:()=>o})},7610:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(1882);function i(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,a=e.length,o=i.length,s=Math.min(a,o),l=new Array(a),u=0;u<s;++u)for(var c,h=e[u],f=i[u],p=h.length,d=l[u]=new Array(p),v=0;v<p;++v)(c=h[v]||f[v])&&(d[v]=c);for(;u<a;++u)l[u]=e[u];return new r.LN(l,this._parents)}},7674:(t,n,e)=>{e.d(n,{O:()=>i.A,z:()=>r});var r=e(9754),i=e(6667)},7737:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(8981),i=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,a=new RegExp(i.source,\"g\");function o(t,n){var e,o,s,l=i.lastIndex=a.lastIndex=0,u=-1,c=[],h=[];for(t+=\"\",n+=\"\";(e=i.exec(t))&&(o=a.exec(n));)(s=o.index)>l&&(s=n.slice(l,s),c[u]?c[u]+=s:c[++u]=s),(e=e[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,h.push({i:u,x:(0,r.A)(e,o)})),l=a.lastIndex;return l<n.length&&(s=n.slice(l),c[u]?c[u]+=s:c[++u]=s),c.length<2?h[0]?function(t){return function(n){return t(n)+\"\"}}(h[0].x):function(t){return function(){return t}}(n):(n=h.length,function(t){for(var e,r=0;r<n;++r)c[(e=h[r]).i]=e.x(t);return c.join(\"\")})}},7867:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(6541),i=Array.prototype.filter;function a(){return Array.from(this.children)}function o(t){return this.selectAll(null==t?a:function(t){return function(){return i.call(this.children,t)}}(\"function\"==typeof t?t:(0,r.j)(t)))}},7875:(t,n,e)=>{e.d(n,{Lt:()=>r.A});var r=e(183)},7890:(t,n,e)=>{function r(t){var n=\"text\";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if(\"function\"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))}e.d(n,{A:()=>r})},7947:(t,n,e)=>{e.d(n,{A:()=>i,g:()=>r});var r=\"http://www.w3.org/1999/xhtml\";const i={svg:\"http://www.w3.org/2000/svg\",xhtml:r,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"}},7949:(t,n,e)=>{e.d(n,{A:()=>p});var r=e(1957),i=e(7268),a=e(123),o=e(7479);function s(t){return function(){this.removeAttribute(t)}}function l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function u(t,n,e){var r,i,a=e+\"\";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function c(t,n,e){var r,i,a=e+\"\";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function h(t,n,e){var r,i,a;return function(){var o,s,l=e(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+\"\")?null:o===r&&s===i?a:(i=s,a=n(r=o,l));this.removeAttribute(t)}}function f(t,n,e){var r,i,a;return function(){var o,s,l=e(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+\"\")?null:o===r&&s===i?a:(i=s,a=n(r=o,l));this.removeAttributeNS(t.space,t.local)}}function p(t,n){var e=(0,i.A)(t),p=\"transform\"===e?r.I:o.A;return this.attrTween(t,\"function\"==typeof n?(e.local?f:h)(e,p,(0,a.J)(this,\"attr.\"+t,n)):null==n?(e.local?l:s)(e):(e.local?c:u)(e,p,n))}},7952:(t,n,e)=>{e.d(n,{A:()=>a});var r=e(1882),i=e(574);function a(t){\"function\"!=typeof t&&(t=(0,i.A)(t));for(var n=this._groups,e=n.length,a=new Array(e),o=0;o<e;++o)for(var s,l,u=n[o],c=u.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=t.call(s,s.__data__,f,u))&&(\"__data__\"in s&&(l.__data__=s.__data__),h[f]=l);return new r.LN(a,this._parents)}},8072:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(3663);function i(t){var n=\"function\"==typeof t?t:(0,r.A)(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}},8235:(t,n,e)=>{function r(t){return t.trim().split(/^|\\s+/)}function i(t){return t.classList||new a(t)}function a(t){this._node=t,this._names=r(t.getAttribute(\"class\")||\"\")}function o(t,n){for(var e=i(t),r=-1,a=n.length;++r<a;)e.add(n[r])}function s(t,n){for(var e=i(t),r=-1,a=n.length;++r<a;)e.remove(n[r])}function l(t){return function(){o(this,t)}}function u(t){return function(){s(this,t)}}function c(t,n){return function(){(n.apply(this,arguments)?o:s)(this,t)}}function h(t,n){var e=r(t+\"\");if(arguments.length<2){for(var a=i(this.node()),o=-1,s=e.length;++o<s;)if(!a.contains(e[o]))return!1;return!0}return this.each((\"function\"==typeof n?c:n?l:u)(e,n))}e.d(n,{A:()=>h}),a.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}}},8639:(t,n,e)=>{function r(t,n){return{objectName:t,propertyName:n.name,selector:n.selector,altConstantValueSelector:n.altConstantSelector,instanceKind:n.instanceKind}}function i(t,n,e){return null==n||\"object\"==typeof n&&!n.solid?e:n.solid?{value:null==n?void 0:n.solid.color}:\"Dropdown\"===(null==t?void 0:t.type)&&t.items?t.items.find(t=>t.value==n):n}e.d(n,{D:()=>i,y:()=>r})},8664:(t,n,e)=>{e.d(n,{A:()=>u});var r=e(1882),i=e(4916),a=e(9731);function o(t,n,e,r,a,o){for(var s,l=0,u=n.length,c=o.length;l<c;++l)(s=n[l])?(s.__data__=o[l],r[l]=s):e[l]=new i.L(t,o[l]);for(;l<u;++l)(s=n[l])&&(a[l]=s)}function s(t,n,e,r,a,o,s){var l,u,c,h=new Map,f=n.length,p=o.length,d=new Array(f);for(l=0;l<f;++l)(u=n[l])&&(d[l]=c=s.call(u,u.__data__,l,n)+\"\",h.has(c)?a[l]=u:h.set(c,u));for(l=0;l<p;++l)c=s.call(t,o[l],l,o)+\"\",(u=h.get(c))?(r[l]=u,u.__data__=o[l],h.delete(c)):e[l]=new i.L(t,o[l]);for(l=0;l<f;++l)(u=n[l])&&h.get(d[l])===u&&(a[l]=u)}function l(t){return t.__data__}function u(t,n){if(!arguments.length)return Array.from(this,l);var e=n?s:o,i=this._parents,u=this._groups;\"function\"!=typeof t&&(t=(0,a.A)(t));for(var h=u.length,f=new Array(h),p=new Array(h),d=new Array(h),v=0;v<h;++v){var g=i[v],y=u[v],m=y.length,A=c(t.call(g,g&&g.__data__,v,i)),_=A.length,w=p[v]=new Array(_),x=f[v]=new Array(_);e(g,y,w,x,d[v]=new Array(m),A,n);for(var b,N,$=0,S=0;$<_;++$)if(b=w[$]){for($>=S&&(S=$+1);!(N=x[S])&&++S<_;);b._next=N||null}}return(f=new r.LN(f,i))._enter=p,f._exit=d,f}function c(t){return\"object\"==typeof t&&\"length\"in t?t:Array.from(t)}},8674:(t,n,e)=>{function r(t,n,e){var r=\"style.\"+(t+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if(\"function\"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?\"\":e))}e.d(n,{A:()=>r})},8796:(t,n,e)=>{function r(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}e.d(n,{A:()=>r})},8946:(t,n,e)=>{function r(t){return function(){return t}}e.d(n,{A:()=>r})},8965:(t,n,e)=>{e(9902);const{abs:r,max:i,min:a}=Math;function o(t){return{type:t}}[\"w\",\"e\"].map(o),[\"n\",\"s\"].map(o),[\"n\",\"w\",\"e\",\"s\",\"nw\",\"ne\",\"sw\",\"se\"].map(o)},8981:(t,n,e)=>{function r(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}e.d(n,{A:()=>r})},9063:(t,n,e)=>{function r(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function i(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function a(t){return this.select(t?i:r)}e.d(n,{A:()=>a})},9064:(t,n,e)=>{e.d(n,{Si:()=>S,eB:()=>$});var r=e(1882),i=e(7949),a=e(3446),o=e(1375),s=e(6558),l=e(4228),u=e(6066),c=e(4876),h=e(5636),f=e(5207),p=e(5182),d=e(3206),v=e(1683),g=e(7270),y=e(9353),m=e(8674),A=e(137),_=e(7890),w=e(5509),x=e(123),b=e(3589),N=0;function $(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function S(){return++N}var M=r.Ay.prototype;$.prototype=function(t){return(0,r.Ay)().transition(t)}.prototype={constructor:$,select:d.A,selectAll:v.A,selectChild:M.selectChild,selectChildren:M.selectChildren,filter:c.A,merge:h.A,selection:g.A,transition:w.A,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:f.A,attr:i.A,attrTween:a.A,style:y.A,styleTween:m.A,text:A.A,textTween:_.A,remove:p.A,tween:x.A,delay:o.A,duration:s.A,ease:l.A,easeVarying:u.A,end:b.A,[Symbol.iterator]:M[Symbol.iterator]}},9214:(t,n,e)=>{e.d(n,{S:()=>s});var r=e(7674),i=r.z.Tn,a=r.z.Kx;class o extends i{defaultColor=new r.z.sk({name:\"defaultColor\",displayName:\"Default color\",value:{value:\"\"}});showAllDataPoints=new r.z.jF({name:\"showAllDataPoints\",displayName:\"Show all\",value:!0});fill=new r.z.sk({name:\"fill\",displayName:\"Fill\",value:{value:\"\"}});fillRule=new r.z.sk({name:\"fillRule\",displayName:\"Color saturation\",value:{value:\"\"}});fontSize=new r.z.iB({name:\"fontSize\",displayName:\"Text Size\",value:12});name=\"dataPoint\";displayName=\"Data colors\";slices=[this.defaultColor,this.showAllDataPoints,this.fill,this.fillRule,this.fontSize]}class s extends a{dataPointCard=new o;cards=[this.dataPointCard]}},9215:(t,n,e)=>{function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i(){return this.each(r)}e.d(n,{A:()=>i})},9353:(t,n,e)=>{e.d(n,{A:()=>u});var r=e(1957),i=e(3683),a=e(3363),o=e(123),s=e(7479);function l(t){return function(){this.style.removeProperty(t)}}function u(t,n,e){var u=\"transform\"==(t+=\"\")?r.T:s.A;return null==n?this.styleTween(t,function(t,n){var e,r,a;return function(){var o=(0,i.j)(this,t),s=(this.style.removeProperty(t),(0,i.j)(this,t));return o===s?null:o===e&&s===r?a:a=n(e=o,r=s)}}(t,u)).on(\"end.style.\"+t,l(t)):\"function\"==typeof n?this.styleTween(t,function(t,n,e){var r,a,o;return function(){var s=(0,i.j)(this,t),l=e(this),u=l+\"\";return null==l&&(this.style.removeProperty(t),u=l=(0,i.j)(this,t)),s===u?null:s===r&&u===a?o:(a=u,o=n(r=s,l))}}(t,u,(0,o.J)(this,\"style.\"+t,n))).each(function(t,n){var e,r,i,o,s=\"style.\"+n,u=\"end.\"+s;return function(){var c=(0,a.hZ)(this,t),h=c.on,f=null==c.value[s]?o||(o=l(n)):void 0;h===e&&i===f||(r=(e=h).copy()).on(u,i=f),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,a,o=e+\"\";return function(){var s=(0,i.j)(this,t);return s===o?null:s===r?a:a=n(r=s,e)}}(t,u,n),e).on(\"end.style.\"+t,null)}},9433:(t,n,e)=>{function r(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__}e.d(n,{A:()=>r})},9713:(t,n,e)=>{e.d(n,{A:()=>o});var r=e(1882),i=e(5478),a=e(747);function o(t){t=\"function\"==typeof t?function(t){return function(){return(0,i.A)(t.apply(this,arguments))}}(t):(0,a.A)(t);for(var n=this._groups,e=n.length,o=[],s=[],l=0;l<e;++l)for(var u,c=n[l],h=c.length,f=0;f<h;++f)(u=c[f])&&(o.push(t.call(u,u.__data__,f,c)),s.push(u));return new r.LN(o,s)}},9731:(t,n,e)=>{function r(t){return function(){return t}}e.d(n,{A:()=>r})},9734:(t,n,e)=>{e.d(n,{A:()=>a});var r=e(1882),i=e(6541);function a(t){\"function\"!=typeof t&&(t=(0,i.A)(t));for(var n=this._groups,e=n.length,a=new Array(e),o=0;o<e;++o)for(var s,l=n[o],u=l.length,c=a[o]=[],h=0;h<u;++h)(s=l[h])&&t.call(s,s.__data__,h,l)&&c.push(s);return new r.LN(a,this._parents)}},9754:(t,n,e)=>{e.d(n,{Kx:()=>o,St:()=>s,Tn:()=>l,iB:()=>f,jF:()=>c,sk:()=>h});var r=e(8639);class i{}class a extends i{}class o{}class s extends i{}class l extends a{}class u extends i{constructor(t){super(),Object.assign(this,t)}getFormattingSlice(t,n){const e=this.type,r=this.name,i={displayName:n&&this.displayNameKey?n.getDisplayName(this.displayNameKey):this.displayName,description:n&&this.descriptionKey?n.getDisplayName(this.descriptionKey):this.description,uid:t+\"-\"+r};return Object.assign(Object.assign({},i),{control:{type:e,properties:this.getFormattingComponent(t,n)}})}getFormattingComponent(t,n){return{descriptor:r.y(t,this),value:this.value}}getRevertToDefaultDescriptor(t){return[{objectName:t,propertyName:this.name}]}setPropertiesValues(t,n){var e;const i=null===(e=null==t?void 0:t[n])||void 0===e?void 0:e[this.name];this.value=r.D(this,i,this.value)}}class c extends u{constructor(t){super(t),this.type=\"ToggleSwitch\"}}class h extends u{constructor(t){super(t),this.type=\"ColorPicker\"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class f extends u{constructor(t){super(t),this.type=\"NumUpDown\"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{options:this.options})}}},9804:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(6160);function i(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n),a=t[(i+n-1)%n],o=t[i%n],s=t[(i+1)%n],l=t[(i+2)%n];return(0,r.H)((e-i/n)*n,a,o,s,l)}}},9902:(t,n,e)=>{e(7111)}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={exports:{}};return t[r](a,a.exports,e),a.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};(()=>{e.r(r),e.d(r,{default:()=>a});var t=e(2279),n=window.powerbi,i={name:\"canvasVisualBD042C189A134E6F914EF8053B29C0F9\",displayName:\"canvasVisual\",class:\"Visual\",apiVersion:\"5.3.0\",create:n=>{if(t.b)return new t.b(n);throw\"Visual instance not found\"},createModalDialog:(t,n,e)=>{const r=globalThis.dialogRegistry;t in r&&new r[t](n,e)},custom:!0};void 0!==n&&(n.visuals=n.visuals||{},n.visuals.plugins=n.visuals.plugins||{},n.visuals.plugins.canvasVisualBD042C189A134E6F914EF8053B29C0F9=i);const a=i})(),canvasVisualBD042C189A134E6F914EF8053B29C0F9=r})();","css":"* {\n  box-sizing: border-box;\n}\n.main-container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  gap: 20px;\n  background: #f5f5f5;\n}\n.canvas-container,\n.svg-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 10px;\n  overflow: hidden;\n}\n.visual-title {\n  margin: 0 0 10px 0;\n  padding: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  text-align: center;\n  border-bottom: 2px solid #e0e0e0;\n  padding-bottom: 8px;\n}\ncanvas {\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n}\n.d3-svg {\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n}\n.d3-svg .arc {\n  cursor: pointer;\n}\n.d3-svg .arc path {\n  transition: all 0.2s ease;\n}\n.d3-svg .legend .legend-item {\n  cursor: pointer;\n}\n.d3-svg .legend .legend-item:hover {\n  opacity: 0.8;\n}\n\n","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NEY1QjA1NUQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NEY1QjA1NEQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Mjk5RDU1ODBGRDRFMDExQTcxQ0JFODI3ODBCQUE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDoNX0AAAI3SURBVHjarJRLSFVRFIY9t7SiRDGLoEEPCRJRaCSYkxCiFCXCF+LIMExQLkilgumgwkbdBuWDRC2EomhURCOjgagkXEgKLUKhidobM6H0+i34rxyPnuvEA5/rXPda/1l7739vJxKJxG3ls93+hEKhTILxJhgMftmsiPxdhHw4CfepeR8dCyjWwwB0kZy3iVgCoQ2ewnmXxhrBD7Cgr/ZQVA17fDRPw2UYhzK6G99IsBse6/0QNME+H8FT4EA/YiPqOgA1q4IMzBNuw6iKjkCpj+Av+AdnEEmD3bxfhzvuDk30HaEaLsEkXCO53rN+Bwg5qsvTuj/TjGYtx9nINhRmEx7AYWiFW7AXOuEcbPOUvIZ2mnrl+PkQUbNEh4QHNKUSDdsSBWEOlmxTEfvs26FL9Khe211if6Acgee+xo7xzMgBxfq9qPe3fgWBGN2lEnqtG9nExM7CV3jp3bDos2bKJB0nHFRxAxRpA/5CIXyHh5ABv6GZqd9dJ6iz2SjbxMMypGhJFtTlNzu3kK7xgDxpove8U66FK2A+s6nul5gVVMEL+Ak7lG/T+g9JcIOGar2CRUoogxMwpP/bLTJMB9bRhDbkk5bBUU0y3ES0xS04CBfN9RSHiY90vJK0BHaSzG9h2eejS3RJeVfdtrGzuGyd8CX7Yq6ExuCH63jaVMPkFOv6OibB6DKs2+VEQp+WYBoqERn2sVWWRNN0YurIfeL14U6YkpkLYCSG6e0yqdCxvKBLIm5FgAEAV0nKuwMYRUsAAAAASUVORK5CYII="},"visualEntryPoint":""}